# 更新日志

本文档记录CCIE培训网站项目的所有重大更改。

## [0.2.1] - 2023-08-28

### 改进

- 更新网站设计风格，采用Apple/Google设计美学
- 统一所有页面导航栏样式，确保视觉一致性
- 将"3个月通过保障"移至主页最醒目位置
- 改善多语言切换机制，默认显示英文
- 优化所有页面的响应式设计

### 修复

- 修复不同页面显示双导航栏的问题
- 解决语言切换后重新加载的问题
- 优化各页面组件国际化支持

## [0.2.0] - 2023-08-25

### 改进

- 更新了网站整体设计，采用Apple/Google风格的现代UI设计
- 优化核心优势区域的视觉呈现效果
- 改善了移动端响应式设计

### 新增

- 添加了自动部署到Namecheap的GitHub Actions配置
- 实现了完整的多语言支持系统，支持中英文切换
- 新增表单提交数据本地保存功能，方便管理员查看用户信息
- 添加了用户表单填写自动保存功能

### 移除

- 移除了网络模拟器功能
- 移除了技术讨论区功能
- 移除了不必要的导航选项

### 修复

- 修复了移动端菜单显示问题
- 解决了语言切换后页面重新加载的问题
- 修复了localStorage在SSR过程中的错误

## [0.1.0] - 2023-08-10

### 初始版本

- 创建了基础的CCIE培训网站框架
- 实现了首页、课程、联系页面
- 添加了网络模拟器功能原型
- 实现了技术讨论区功能原型
- 添加了中文语言支持

## [1.6.0] - 2024-01-18

### 🎉 重大问题解决 - Node.js版本和启动配置修复

#### ✅ 问题诊断
- **原始问题**: Next.js启动失败，显示Node.js v10.24.1版本过低
- **升级后**: Node.js v20.18.3，但仍有启动配置问题
- **根本原因**: `output: 'standalone'` 配置需要特殊启动方式

#### 🔧 解决方案实施
1. **Node.js版本升级**
   - 从 v10.24.1 升级到 v20.18.3
   - 完全兼容Next.js 14.x要求

2. **启动脚本修复**
   - 更新 `npm start` 使用正确的standalone启动方式
   - 修改为: `node .next/standalone/server.js`
   - 保留 `npm run start:next` 作为标准模式备用

3. **智能启动器创建**
   - 新增 `start.js` 智能启动脚本
   - 自动检测standalone模式和标准模式
   - 提供详细的启动信息和错误诊断

#### 📁 新增文件
- `start.js` - 智能启动器，自动选择最佳启动方式

#### 🔧 修改文件
- `package.json` - 更新启动脚本配置
- `docs/namecheap_nodejs_deployment.md` - 添加Node.js版本要求说明
- `docs/changelog.md` - 记录问题解决过程

#### ✅ 验证结果
- ✅ 构建成功: 18个页面正常生成
- ✅ 服务器启动: 端口3000正常监听
- ✅ 应用响应: http://localhost:3000 可访问
- ✅ Node.js版本: v20.18.3 完全兼容

#### 🚀 部署说明
**Namecheap部署时请确保:**
1. Node.js版本 >= 16.0.0 (推荐v20.x)
2. 使用正确的启动命令: `node .next/standalone/server.js`
3. 完整上传 `.next/standalone/` 目录

### 💡 经验总结
- Next.js `output: 'standalone'` 配置需要特定启动方式
- 不能使用 `next start`，必须直接运行standalone服务器
- 建议使用智能启动器自动处理不同部署模式

---

## [1.5.3] - 2024-01-17

### 🔧 Namecheap部署支持和故障排除

#### 📁 新增功能
- **Node.js部署支持**
  - 创建 `server.js` 专用Node.js服务器
  - 兼容Namecheap环境变量
  - 优化生产环境配置

- **调试和故障排除工具**
  - 创建 `app.js` 详细调试启动器
  - 完整的错误信息输出和环境检测
  - 自动降级到静态服务器机制

#### 📚 文档完善
- `docs/namecheap_nodejs_deployment.md` - 完整部署指南
- `docs/namecheap_troubleshooting.md` - 503错误故障排除
- `deploy-namecheap.bat` - Windows自动化部署脚本

#### 🔧 配置优化
- 更新 `next.config.js` 支持多种输出模式
- 添加 `.nvmrc` 指定Node.js版本要求
- 优化 `package.json` 生产环境脚本

#### ✅ 解决的问题
- 503服务器错误诊断流程
- 依赖安装和构建问题
- 环境变量和端口配置
- 静态资源访问问题

---

## [1.5.2] - 2024-01-16

### 🎨 网络模拟器界面和功能增强

#### ✨ 新增功能
- **增强网络模拟器页面**
  - 新增拓扑配置面板
  - 实时控制台输出
  - 设备配置导入/导出功能
  - 模拟结果分析

#### 🔧 技术改进
- 优化博客文章关联逻辑，修复预渲染错误
- 改进页面加载性能
- 增强移动端响应式设计

#### 📁 文件更新
- `pages/network-simulator.js` - 功能增强
- `styles/NetworkSimulator.module.css` - 界面优化
- `pages/blog/[slug].js` - 修复related posts错误

---

## [1.5.1] - 2024-01-15

### 🔧 Stagewise工具栏集成

#### ✨ 新增功能
- **AI驱动的浏览器编辑**
  - 集成 @stagewise/toolbar
  - 实时页面编辑和优化建议
  - 仅在开发模式启用

#### 📁 新增文件
- `.vscode/extensions.json` - VS Code扩展推荐

#### 🔧 修改文件  
- `pages/_app.js` - 集成Stagewise工具栏
- `package.json` - 添加新依赖

---

## [1.5.0] - 2024-01-14

### 🚀 GitHub仓库连接和Vercel部署修复

#### ✅ 解决的关键问题
- **预渲染错误修复**
  - 修复博客页面 `relatedPosts.filter(Boolean)` 错误
  - 解决 `undefined.image` 引用问题
  - 确保所有18个页面正常生成

#### 🔧 技术改进
- 连接GitHub远程仓库: https://github.com/felixqi4587/cciemaster
- 成功推送所有代码到GitHub
- 通过本地构建测试验证

#### 📁 修改文件
- `pages/blog/[slug].js` - 修复related posts逻辑
- 所有文件已同步到GitHub

---

## [1.4.0] - 2024-01-13

### 🏗️ 项目重建和Vercel部署

#### 🚀 重大更新
- **完整项目重建**
  - 重新创建所有页面和组件
  - 优化网站结构和性能
  - 修复所有已知问题

#### 📱 页面完善
- 首页 (index.js) - 全新设计
- 课程页面 (courses.js) - 课程展示
- 博客系统 (blog/index.js, blog/[slug].js) - 完整博客功能
- 关于页面 (about.js) - 机构介绍
- 联系页面 (contact.js) - 联系方式
- 讨论区 (discussion/index.js, discussion/[id].js) - 互动功能
- 问答区 (qa.js) - Q&A系统
- 网络模拟器 (network-simulator.js) - 实验环境
- 学习资源 (resources.js) - 资料下载
- 职业规划 (career-path.js) - 发展指导
- 成功案例 (success-stories.js) - 学员故事

#### 🎨 样式系统
- 完整的CSS模块化样式
- 响应式设计适配
- 统一的设计语言

#### 📊 数据管理
- 本地化数据存储
- 博客文章管理系统
- 课程信息管理

---

## [1.3.0] - 2024-01-12

### 📝 博客系统优化

#### ✨ 功能增强
- 博客文章详情页优化
- 相关文章推荐功能
- 标签系统完善
- 评论区界面改进

#### 🎨 界面提升
- 更好的文章阅读体验
- 优化移动端显示
- 增强视觉层次

---

## [1.2.0] - 2024-01-11

### 🏠 首页和导航优化

#### ✨ 新增功能
- 英雄区域重设计
- 特色课程展示
- 服务介绍优化
- 统计数据展示

#### 🔧 技术改进
- 导航栏交互增强
- 页面加载性能优化
- SEO元数据完善

---

## [1.1.0] - 2024-01-10

### 🎯 核心页面开发

#### 📱 页面实现
- 课程列表页面
- 博客首页
- 讨论区首页
- 问答系统基础框架

#### 🎨 设计系统
- 建立统一色彩规范
- 响应式布局框架
- 组件化开发模式

---

## [1.0.0] - 2024-01-09

### 🚀 项目初始化

#### 🏗️ 基础架构
- Next.js 14.1.0 项目搭建
- 基础路由结构设计
- 开发环境配置

#### 📁 项目结构
- 页面目录结构规划
- 样式文件组织
- 公共资源管理

#### 🔧 开发配置
- ESLint 配置
- Git 仓库初始化
- 开发规范制定

---

## 技术栈

- **框架**: Next.js 14.1.0
- **前端**: React 18.2.0
- **样式**: CSS Modules
- **部署**: Vercel / Static Export
- **版本控制**: Git + GitHub

## [0.6.0] - 2024-12-19

### 新增Namecheap Node.js部署支持
- 创建专用的Node.js服务器配置文件（server.js）
- 添加Next.js生产环境优化配置（next.config.js）
- 集成Stagewise AI工具栏开发支持
- 创建详细的Namecheap Node.js部署文档
- 提供自动化部署脚本（deploy-namecheap.bat）

### 配置文件更新
- package.json：添加Node.js引擎要求和生产脚本
- next.config.js：优化生产环境性能和安全设置
- server.js：兼容Namecheap环境变量的服务器配置
- .nvmrc：指定Node.js版本16.20.0

### 开发工具集成
- 集成@stagewise/toolbar用于AI驱动的浏览器编辑
- 添加VS Code扩展推荐配置
- 客户端动态加载，仅在开发模式启用

### 文档完善
- docs/namecheap_nodejs_deployment.md：详细部署指南
- 包含性能优化、故障排除、安全建议
- 提供完整的部署流程和维护指南

## [0.5.2] - 2024-12-19

### 修复Vercel部署兼容性问题
- 修复博客页面在Vercel部署时的预渲染错误
- 解决relatedPosts中引用不存在文章导致的undefined错误
- 添加相关文章渲染的安全检查，过滤undefined值
- 确保所有博客页面可以正常构建和部署
- 本地构建测试通过，所有18个页面成功生成

### 技术改进
- 在相关文章映射中增加`.filter(Boolean)`过滤空值
- 添加null检查防止访问undefined对象的属性
- 优化相关文章链接生成逻辑

## [0.5.1] - 2024-12-19

### 项目状态检查
- 项目结构完整，包含所有必要文件
- Node.js 版本: v22.15.0，npm 版本: 10.9.2
- 开发服务器可以正常启动并运行在 http://localhost:3000
- Git 仓库状态良好，工作目录无未提交更改
- ✅ **已解决**: 配置GitHub远程仓库连接
- .gitignore 文件配置正确，排除了node_modules、.next等文件
- 项目包含完整的文档结构在 docs/ 目录
- GitHub Actions 部署配置已创建并可以使用
- 项目页面结构完整：首页、课程、博客、讨论等功能页面
- 包含网络模拟器、职业规划等高级功能

### 已完成修复
1. ✅ 配置GitHub远程仓库连接
2. ✅ 验证项目运行状态正常
3. ✅ 修复Vercel部署兼容性问题

## [0.5.0] - 2024-05-22

### 新增
- 添加Namecheap共享主机部署方案:
  - 创建部署文档（docs/namecheap_deployment.md）
  - 创建部署方案总结（docs/namecheap_deployment_summary.md）
  - 创建部署日志文件（docs/deployment_log.md）
- 添加自动化部署工具:
  - 创建Windows部署脚本（deploy.bat）
  - 配置GitHub Actions自动部署工作流（.github/workflows/deploy.yml）
- 修复构建问题:
  - 添加缺失的样式文件
  - 修复CSS模块选择器问题
  - 创建_document.js文件

### 改进
- 优化静态资源组织
- 提高部署效率和可靠性
- 建立自动化部署流程

## [0.4.0] - 2024-05-20

### 新增
- 添加网络模拟器功能：
  - 创建网络拓扑模拟器组件（NetworkSimulator.js）
  - 添加模拟器页面（network-simulator.js）
  - 实现基础拓扑设计工具
  - 添加终端命令模拟功能
  - 创建相关样式文件
- 添加多种引流元素：
  - 功能对比表格
  - 专业版升级推广
  - 学员使用反馈展示
  - 常见问题解答
  - 悬浮引流球
  - 信息收集表单
- 优化用户体验：
  - 实现响应式设计
  - 添加交互式提示
  - 设计浮动引流元素

## [0.3.0] - 2024-05-18

### 新增
- 添加技术讨论社区功能：
  - 添加讨论列表组件（TechDiscussion.js）
  - 添加讨论详情页面（discussion/[id].js）
  - 设计讨论列表页面（discussion/index.js）
  - 创建相关样式文件
- 添加用户互动功能：
  - 回复讨论
  - 点赞功能
  - 分享功能
  - 多种引流元素
- 提供技术专家推荐和热门主题功能
- 增强SEO优化，添加相关meta标签

### 改进
- 优化移动端响应式设计
- 增强用户互动体验
- 完善引流路径和转化漏斗

## [0.0.1] - 2024-05-11

### 新增
- 项目初始化
- 创建基础Next.js应用
- 设置Git仓库
- 添加基础依赖包

## [0.6.0] - 2024-05-24

### 新增
- 实现获取用户咨询表单信息的功能:
  - 创建API端点处理联系表单提交 (pages/api/contact.js)
  - 创建API端点存储表单数据 (pages/api/submissions.js)
  - 创建管理员界面查看表单数据 (pages/admin/submissions.js)
  - 添加相关样式文件和组件 (styles/Admin.module.css)
- 完善自动部署到Namecheap共享主机的步骤:
  - 创建GitHub Actions工作流配置 (.github/workflows/deploy.yml)
  - 创建Windows批处理文件进行手动部署 (deploy.bat)
  - 添加配置文件处理和错误处理机制

### 改进
- 更新联系表单处理逻辑，添加API提交功能
- 统一网站视觉效果，使用Apple/Google设计美学:
  - 更新Layout组件样式 (styles/Layout.module.css)
  - 创建统一的联系页面样式 (styles/Contact.module.css)
  - 统一管理界面设计风格 (styles/Admin.module.css)
- 优化表单验证和错误处理
- 添加多语言支持到新组件

### 修复
- 修复表单提交数据保存的问题
- 解决API端点数据格式不一致的问题

## [2024-12-19] - 静态部署优化版本

### 重大改进
- 🎯 **专注静态部署**：移除Node.js服务器相关代码
- 🚀 **一键构建**：简化构建流程，统一使用 `npm run build`
- 📦 **轻量化项目**：移除不必要的依赖和复杂配置
- 🔧 **修复配置警告**：优化next.config.js配置

### 新增功能
- ✅ **本地预览功能**：`npm run preview` 快速预览构建结果
- ✅ **清理脚本**：`npm run clean` 清理构建文件
- ✅ **跨平台支持**：Windows和macOS/Linux统一体验
- ✅ **整个项目部署指南**：提供完整项目上传方案（但推荐静态部署）

### 简化的部署流程
1. **构建**：`npm run build`
2. **上传**：上传 `out` 目录内容到 `public_html`
3. **完成**：网站立即可用

### 项目特点
- ✅ **100%兼容性**：支持所有共享主机
- ✅ **零服务器依赖**：纯静态文件
- ✅ **快速加载**：无服务器处理延迟
- ✅ **高安全性**：无后端安全风险
- ✅ **简单维护**：只需上传文件

### 文档更新
- 📚 更新快速部署指南
- 📋 新增整个项目复制部署说明
- ⚠️ 明确标注Namecheap共享主机限制

---

## [2024-12-19] - Namecheap部署完整解决方案

### 新增功能
- ✅ **多种部署方案**
  - 静态站点部署（推荐方案）
  - FTP自动上传
  - 压缩包手动上传
  - 本地预览功能

- ✅ **完整的部署工具**
  - `deploy.sh` - macOS/Linux部署脚本
  - `deploy.bat` - Windows部署脚本  
  - `deploy-namecheap.js` - FTP自动上传工具
  - `deploy-namecheap-config.example.js` - 配置示例

- ✅ **Next.js配置优化**
  - 支持静态导出模式
  - 环境变量控制构建类型
  - 图片优化配置
  - 压缩和缓存优化

- ✅ **详细文档**
  - 完整的Namecheap部署指南
  - 问题排查指南
  - cPanel操作说明
  - .htaccess配置示例

### 包结构更新
- 新增FTP和SSH部署依赖
- 优化构建脚本命令
- 支持跨平台构建

### 技术改进
- 解决Git合并冲突
- 统一开发工具链配置
- 兼容Stagewise开发工具

### 部署说明
由于Namecheap共享主机对Node.js支持有限，推荐使用静态站点部署：

1. 运行 `npm run build` 构建静态文件
2. 上传 `out` 目录到 `public_html`
3. 配置域名DNS指向

详细步骤请参考：`docs/namecheap_deployment.md`

---

## [2024-12-18] - 语言系统和管理功能

### 新增功能
- ✅ 英文为默认语言，中英文切换
- ✅ 联系表单提交系统
- ✅ 管理员页面查看提交记录
- ✅ 统一导航栏样式

### 修复问题
- 🔧 组件样式一致性
- 🔧 表单数据验证
- 🔧 响应式布局优化

---

## [2024-12-17] - 项目初始化

### 基础功能
- ✅ Next.js项目框架
- ✅ 响应式布局系统
- ✅ 基础页面结构
- ✅ 组件化架构 